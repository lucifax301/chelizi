var app=angular.module("app",["ngFilter"]);app.controller("importStudentExamHistoryController",["$scope","$filter",function(e,a){e.defaultPage=location.hash.substring(2)||1,e.pageSize=10,e.getDataList=function(){$.AJAX({type:"GET",url:config.basePath+"school/enroll/tables",data:{pageNo:e.defaultPage,pageSize:parseInt(e.pageSize),dateBegin:e.dateBegin,dateEnd:e.dateEnd,type:2},success:function(a){var t=getListData(a);e.total=t.total,e.datas=t.dataList,e.$apply(),new Page({parent:$("#copot-page"),nowPage:e.defaultPage,pageSize:e.pageSize,totalCount:t.total})}})},e.getDataList(),window.onhashchange=function(){win.showLoading(),e.defaultPage=location.hash.substring(2)||1,e.getDataList()},e.getDataForPage=function(){win.showLoading(),e.defaultPage=1,e.getDataList()},e.getDataForTime=function(t,n){switch($(t.target).addClass("active").siblings().removeClass("active"),n){case"":e.dateBegin=e.dateEnd="";break;case"0":e.dateBegin=a("date")((new Date).getTime()-6048e5,"yyyy-MM-dd"),e.dateEnd=a("date")((new Date).getTime(),"yyyy-MM-dd");break;case"1":e.dateBegin=a("date")((new Date).getTime()-1296e6,"yyyy-MM-dd"),e.dateEnd=a("date")((new Date).getTime(),"yyyy-MM-dd")}$("#searchTime").val(""),e.getDataForPage()},$("#searchTime").daterangepicker({format:"YYYY-MM-DD"},function(t,n,i){e.dateBegin=a("date")(t.toISOString(),"yyyy-MM-dd"),e.dateEnd=a("date")(n.toISOString(),"yyyy-MM-dd"),e.getDataForPage()})}]);