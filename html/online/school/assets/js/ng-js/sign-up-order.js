var app=angular.module("app",["ngFilter"]);app.controller("Order",["$scope","$filter",function(a,e){function t(e){var t={url:config.basePath+"enrollOrder/query",data:{pageNo:e,pageSize:parseInt(a.pageSize),dltype:a.dltype,isdel:a.isdel}};return t.data[a.searchType]=a.search,t}a.defaultPage=location.hash.substring(2)||1,a.pageSize=10,a.dltype="",a.isdel="",a.searchType="orderId",a.getDataList=function(){var e=t(a.defaultPage);$.AJAX({type:"get",url:e.url,data:e.data,success:function(e){var t=getListData(e);a.datas=t.dataList,a.$apply(),topLongText(),new Page({parent:$("#copot-page"),nowPage:a.defaultPage,pageSize:a.pageSize,totalCount:t.total})}})},a.getDataList(),window.onhashchange=function(){win.showLoading(),a.defaultPage=location.hash.substring(2)||1,a.getDataList()},a.getDataForIsdel=function(e,t){$(e.target).addClass("active").siblings().removeClass("active"),win.showLoading(),a.defaultPage=1,a.isdel=t,a.getDataList()},a.getDataForDriveType=function(e,t){$(e.target).addClass("active").siblings().removeClass("active"),win.showLoading(),a.defaultPage=1,a.dltype=t,a.getDataList()},a.getDataForPage=function(){win.showLoading(),a.defaultPage=1,a.getDataList()},a.getDataForSearch=function(){win.showLoading(),a.defaultPage=1,a.getDataList()}}]);