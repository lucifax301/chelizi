var app=angular.module("app",["ngFilter"]);app.controller("MyApp",["$scope",function(a){a.type=getQueryString("type")||0,a.withdraMoney="",a.password="",a.isThanTotal="",a.isTransPasswordError="",$.AJAX({type:"get",url:config.basePath+"school/queryAccount",data:{schoolId:a.schoolId},success:function(o){a.schoolDetails=getListData(o),a.$apply()}}),$.AJAX({url:config.basePath+"school/depositVal",data:{},success:function(o){a.type=getListData(o),console.log(a.type),a.$apply()}}),a.accountData={money:1e4,bankName:"中国农业银行（深圳支行）",merName:"深圳市深港驾培集团",publicAccount:"516516515165165165165"},schoolsAccountDetails({callback:function(o){a.accountData=o,a.$apply()}}),a.isThanTotalMoney=function(){a.withdraMoney<500?a.isThanTotal="最低提现500元":a.withdraMoney>a.accountData.money/100?a.isThanTotal="您的余额只有"+a.accountData.money/100+"元":a.isThanTotal=""},a.submitAccount=function(){return regCombination("number").test(a.withdraMoney)?(a.withdraMoney<500&&(a.isThanTotal="最低提现500元"),a.withdraMoney>a.accountData.money/100?(a.isThanTotal="您的余额只有"+a.accountData.money/100+"元",!1):regCombination("*").test(a.password)?void $.AJAX({url:config.basePath+"school/deposit",data:{money:a.withdraMoney,bankCard:a.accountData.bankNo,passwd:a.password},success:function(o){a.datas=getListData(o),window.location.href="schools-account-withdrawals-details.html?createTime="+a.datas.applyTime+"&money="+a.withdraMoney},error:function(o){a.isTransPasswordError=o.msg,a.$apply()}}):(a.isTransPasswordError="请输入支付密码",!1)):(a.isThanTotal="请输入需要提现的金额",!1)}}]);