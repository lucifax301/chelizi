!function(e,t,n){var i=t.module("ngSelects",[]);i.factory("Selects",["$rootScope",function(e){return{selects:function(t){var n=t.num?t.num:"",i="checkAll"+n,o="idList"+n;e[i]=!1,e[o]=[];var c=t.datas,r=t.whichId;e.selectionAll=function(n){var a=n.target,l=!!a.checked;if(l){e[o]=[],e[i]=!0;for(var g=0,m=c.length;m>g;g++)if(t.trem)for(var s=0,f=t.trem.list.length;f>s;s++)c[g][t.trem.check]==t.trem.list[s]&&e[o].push(c[g][r]);else e[o].push(c[g][r])}else e[i]=!1,e[o]=[]};var a=function(t,n){if("add"==t&&-1==e[o].indexOf(n)&&e[o].push(n),"remove"==t&&-1!=e[o].indexOf(n)){var c=e[o].indexOf(n);e[o].splice(c,1),e[o].length<=0&&(e[i]=!1)}};e.updateSelection=function(e,t){var n=e.target,i=n.checked?"add":"remove";a(i,t)},e.isSelected=function(t){return e[o].indexOf(t)>=0}}}}]),i.factory("getMsgTime",["$rootScope",function(e){return{getNowTime:function(t){e.isClick=!(localStorage.getItem("nowMsgTime"+t)<config.msgTime),e.getMsgText="获取验证码",e.runTime=function(t,n){var i=setInterval(function(){var o=config.msgTime-Math.floor(((new Date).getTime()-localStorage.getItem("nowTime"+t))/1e3);e.nowMsgTime=o,localStorage.setItem("nowMsgTime"+t,o),e.$apply(),0>=o&&(clearInterval(i),e.isClick=!0,localStorage.setItem("nowMsgTime"+t,config.msgTime),e.nowMsgTime="",n&&n(),e.$apply())},1e3)},localStorage.getItem("nowMsgTime"+t)<config.msgTime&&e.runTime(t)},shotMessage:function(t,n){localStorage.setItem("nowMsgTime"+t,config.msgTime),localStorage.setItem("nowTime"+t,(new Date).getTime()),e.isClick=!1,e.runTime(t,n)}}}])}(window,window.angular);