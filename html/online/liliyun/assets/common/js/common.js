function error(e,t){switch(parseInt(e.code)){case 0:t.success(e);break;case 1:-1==window.location.href.indexOf(config.loginUrl)?(alert("AJAX请求失败"),sessionStorage.setItem("url",window.location.href),win.location.href=startConfig.bathUrl+config.loginUrl):Layer.alert({width:300,height:150,type:"error",title:"用户鉴权失败,请重新登录"});break;case 601:t.error(e);break;case 600:var r=parseInt(e.msg.replace(/[^0-9]/gi,""));9001==r?Layer.alert({width:300,height:150,type:"error",title:"请选择有效的优惠方案"}):9002==r?Layer.alert({width:400,height:150,type:"error",title:"已经是大客户，请勿重复申请"}):9003==r?Layer.alert({width:600,height:150,type:"error",title:"已是喱喱学员，请自行联系大客户经理人工处理"}):10==r?Layer.alert({width:600,height:150,type:"error",title:"手机号码错误"}):3==r?Layer.alert({width:600,height:150,type:"error",title:"操作参数错误"}):9005==r?Layer.alert({width:600,height:150,type:"error",title:"该方案名称已经存在"}):9006==r?Layer.alert({width:600,height:150,type:"error",title:"该公司名称已经存在"}):9007==r?Layer.alert({width:600,height:150,type:"error",title:"档位金额不合法(限0-10000)"}):Layer.alert({width:350,height:150,type:"error",title:e.msg});break;default:Layer.alert({width:350,height:150,type:"error",title:e.msg})}}function _error(e,t){if(win.hideLoading(),t.code)t.error(JSON.parse(e.responseText));else switch(e.status){case 401:-1==window.location.href.indexOf(config.loginUrl)?(sessionStorage.setItem("url",window.location.href),win.location.href=startConfig.bathUrl+config.loginUrl):Layer.alert({width:300,height:150,type:"error",title:"用户鉴权失败,请重新登录"});break;case 404:Layer.alert({width:300,height:150,type:"error",title:"接口地址不存在"});break;case 500:case 502:Layer.alert({width:300,height:150,type:"error",title:"服务器内部错误"});break;case 601:Layer.alert({width:300,height:150,type:"error",title:"手机号码已存在"});break;case 602:Layer.alert({width:300,height:150,type:"error",title:"车牌号或车辆行驶证号已存在"});break;case 603:Layer.alert({width:300,height:150,type:"error",title:"教练已绑定该车"});break;case 611:Layer.alert({width:300,height:150,type:"error",title:"数据更新失败"});break;case 612:Layer.alert({width:300,height:150,type:"error",title:"数据插入失败"});break;case 613:Layer.alert({width:300,height:150,type:"error",title:"数据查询失败"});break;case 614:Layer.alert({width:300,height:150,type:"error",title:"数据删除失败"});break;case 620:Layer.alert({width:300,height:150,type:"error",title:"没有操作权限"});break;case 630:Layer.alert({width:300,height:150,type:"error",title:"Excel导出失败"});break;case 699:Layer.alert({width:300,height:150,type:"error",title:"请求参数有误"});break;case 701:Layer.alert({width:300,height:150,type:"error",title:"金额超出限制"});break;case 702:Layer.alert({width:300,height:150,type:"error",title:"该记录状态不对，不能进行操作"});break;case 703:Layer.alert({width:300,height:150,type:"error",title:"奖金有重复教练，请删除后再试"});break;case 704:Layer.alert({width:300,height:150,type:"error",title:"发放奖金失败"});break;default:Layer.alert({width:300,height:150,type:"error",title:"未知错误"})}}function log(e){console.log(e)}function dClone(e){return JSON.parse(JSON.stringify(e))}function createTag(e,t){t=t||{};var r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)r.setAttribute(i,t[i]);return r}function d2a(e){return e*Math.PI/180}function a2d(e){return angule/Math.PI*180}function rand(e,t){return Math.round(Math.random()*(t-e)+e)}function time(){return(new Date).getTime()}function randColor(){for(var e=[],t=0;3>t;t++)e.push(fillLen(rand(0,255).toString(16)));return"#"+e.join("")}function color2rgba(e,t){t=t||1,e=e.replace("#",""),3==e.length&&(e=e.replace(/\w/g,function(e){return e+e}));var r=[];return e.replace(/\w{2}/g,function(e){r.push(Number("0x"+e))}),"rgba("+r+","+t+")"}function rgb2color(e){var t=e.match(/\d+/g);t.length=3;var r="#";return t.forEach(function(e){r+=fillLen(parseInt(e).toString(16))}),r}function toNum(e){return"number"==typeof e?e:/^\d+%$/.test(e)?e.replace("%","")/100:parseFloat(e)}function showLoading(){isLoading=!0,$("#loading").stop().fadeIn(iFadeInterval)}function hideLoading(){isLoading=!1,$("#loading").stop().fadeOut(iFadeInterval)}function fillLen(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e}function regCombination(e,t){var r="";switch(e){case"*":r=t?new RegExp("^[\\w\\W]{"+t[0]+","+t[1]+"}$"):new RegExp("^[\\w\\W]+$");break;case"number":r=t?new RegExp("^\\d{"+t[0]+","+t[1]+"}$"):new RegExp("^\\d+$");break;case"special":r=t?new RegExp("^[\\u4E00-\\u9FA5\\uf900-\\ufa2d\\w\\.\\s]{"+t[0]+","+t[1]+"}$"):new RegExp("^[\\u4E00-\\u9FA5\\uf900-\\ufa2d\\w\\.\\s]+$");break;case"chinese":r=new RegExp("^[\\u4E00-\\u9FA5\\uf900-\\ufa2d]{"+t[0]+","+t[1]+"}$");break;case"postcode":r=new RegExp("^[0-9]{6}$");break;case"phone":r=new RegExp("^13[0-9]{9}$|14[0-9]{9}$|15[0-9]{9}$|17[0-9]{9}$|18[0-9]{9}$");break;case"tell":r=new RegExp("(^(0[0-9]{2,3}-)?([2-9][0-9]{6,7})+(-[0-9]{1,4})?$)|(^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$)");break;case"email":r=new RegExp("^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$");break;case"id":r=new RegExp("^\\d{17}[\\dXx]$");break;case"url":r=new RegExp("^(\\w+:\\/\\/)?\\w+(\\.\\w+)+.*$")}return r}function getArrNum(e){for(var t=e.min||0,r=e.num,i=e.max,n=e.sort,a=[],o={};a.length<r;){var s=Math.round(Math.random()*i);e.isRepeat?s>t&&a.push(s):!o[s]&&s>t&&(a.push(s),o[s]=1)}return">"==n?(a.sort(function(e,t){return t-e}),a):"<"==n?(a.sort(function(e,t){return e-t}),a):a}function asterisk(e,t,r){for(var i="",n=0;r>n;n++)i+="*";return e.replace(e.substr(t,r),i)}function getCheckboxVal(e){for(var t=document.getElementsByName(e),r=[],i=0,n=t.length;n>i;i++)t[i].checked&&r.push(t[i].value);return r}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?unescape(r[2]):null}function getChineseQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?decodeURI(r[2]):null}function uniqueArr(e){for(var t={},r=[],i=0;i<e.length;i++)t[e[i]]||(r.push(e[i]),t[e[i]]=!0);return r}function addAttr(e,t){for(var r in t)e.setAttribute(r,t[r])}function jsonToGetUrl(e){var t="";for(var r in e)t+=r+"="+e[r]+"&";return t.slice(0,-1)}function jsonKeyStr(e){var t="";for(var r in window.buttonPer)t+=r+",";return t.slice(0,-1)}function randomString(e){e=e||32;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",r=t.length,n="";for(i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*r));return n}function cutDataForYMD(e){return e.split(" ")}function downLoadApp(e){var t=document.getElementById(e.butId);(isIos||isIpad)&&t.setAttribute("href",e.iosUrl),isAndroid&&t.setAttribute("href",e.androidUrl),e.weiXinEle&&IsWeiXin&&(document.getElementById(e.weiXinEle).style.display="block")}function getMenu(e){for(var t=[],r=0,i=menuPer.list.length;i>r;r++)t.push(menuPer.list[r]);return console.log("newArr:"),console.log(t),t}window.config={loginUrl:"login.html",homeUrl:"index.html",indexGoToSrc:"datas/data-statistics.html",basePath:"https://"+window.location.host+"/chelizi-portal/",layerPhoneWidth:$(window).width()<768?.9*$(window).width():660,popLayerHideTime:1e3,contentTimeShow:200,ajaxtimeout:8e3,explTotal:1e3,explPrompt:"导出最新的1000条数据!"},window.$&&($.AJAX=function(e){var t=!0;$.ajax({type:e.type||"post",url:e.url,xhrFields:{withCredentials:!0},async:e.async,crossDomain:!0,data:e.data||"",datatype:"json",success:function(t){e.nohideloading||win.hideLoading(),clearTimeout(r),error(t,e)},error:function(i){win.hideLoading(),clearTimeout(r),t&&_error(i,e)}});var r=setTimeout(function(){win.hideLoading(),t=!1,Layer.alert({width:300,height:150,type:"error",title:"请求超时，请刷新重试!"})},e.timeout||config.ajaxtimeout)},$.FileAJAX=function(e){var t=!0;$.ajax({type:e.type||"post",url:e.url,xhrFields:{withCredentials:!0},crossDomain:!0,data:e.data||"",datatype:"json",cache:!1,contentType:!1,processData:!1,success:function(t){win.hideLoading(),clearTimeout(r),error(t,e)},error:function(i){win.hideLoading(),e.error(),clearTimeout(r),t&&_error(i,e)}});var r=setTimeout(function(){win.hideLoading(),t=!1,Layer.alert({width:300,height:150,type:"error",title:"请求超时，请刷新重试!"})},e.timeout||config.ajaxtimeout)}),function(){var e=window.location.href;-1==e.indexOf(config.loginUrl)&&sessionStorage.setItem("lili-url",window.location.href)}(),window==window.top&&document.write('<div id="loading"></div>');var win=window.top,UA=navigator.userAgent,isPC=UA.indexOf("Windows NT")>-1,isAndroid=UA.indexOf("Android")>-1,isIos=UA.indexOf("Mac OS X")>-1,isIphone=UA.indexOf("iPhone;")>-1,isIpad=UA.indexOf("iPad;")>-1,isIE7=UA.indexOf("MSIE 7.0;")>-1,isIE8=UA.indexOf("MSIE 8.0;")>-1,isIE9=UA.indexOf("MSIE 9.0;")>-1,isIE10=UA.indexOf("MSIE 10.0;")>-1,isIE11=UA.indexOf("Trident")>-1,isFirefox=UA.indexOf("Firefox")>-1,IsWeiXin=UA.indexOf("MicroMessenger")>-1,iFadeInterval=260,iSlideInterval=200,isLoading=!1,baseURL="",$_GET={};(isIE7||isIE8||isIE9)&&(window.location.href="ieTestingBrowser/ie-testing-browser.html"),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},Date.prototype.date=function(e){var t=this.getFullYear(),r=fillLen(this.getMonth()+1),i=fillLen(this.getDate()),n=fillLen(this.getHours()),a=fillLen(this.getMinutes()),o=fillLen(this.getSeconds()),s={y:t,m:r,d:i,h:n,i:a,s:o};return e?e.replace(/y|m|d|h|i|s/g,function(e){return s[e]}):t+"-"+r+"-"+i+" "+n+":"+a+":"+o},window.Highcharts&&Highcharts.setOptions({lang:{contextButtonTitle:"图表导出菜单",decimalPoint:".",downloadJPEG:"下载JPEG图片",downloadPDF:"下载PDF文件",downloadPNG:"下载PNG文件",downloadSVG:"下载SVG文件",drillUpText:"返回 {series.name}",loading:"加载中",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],noData:"没有数据",numericSymbols:["千","兆","G","T","P","E"],printChart:"打印图表",resetZoom:"恢复缩放",resetZoomTitle:"恢复图表",shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],thousandsSep:",",weekdays:["星期一","星期二","星期三","星期三","星期四","星期五","星期六","星期天"]},colors:["#97BBCD","#DCDCDC","#F7464A","#f7a35c"],yAxis:{title:{text:""},min:0},credits:!1,title:{style:{fontSize:"30px"},x:-20},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}),window.location.href.indexOf("login.html")<0&&(console.log("缓存里有用户名："+localStorage.getItem("lili-username")),sessionStorage.accessData&&""!=sessionStorage.accessData?(console.log("直接从缓存拿菜单数据"),window.menuPer=JSON.parse(sessionStorage.accessData)):(console.log("重新请求菜单数据"),$.AJAX({type:"get",async:"false",url:config.basePath+"privilege/getUserMenu",success:function(e){window.menuPer=JSON.parse(e.data),sessionStorage.accessData=JSON.stringify(window.menuPer)}}))),window.buttonPer={100100:"数据统计",100300:"学员",100301:"学员查询",100302:"新增学员",100303:"学员详情",100304:"编辑学员",100400:"教练",100401:"教练查询",100402:"新增教练",100403:"教练详情",100404:"编辑教练",100200:"订单",100201:"订单查询",100202:"关闭订单",100203:"订单详情",100500:"教练车",100501:"教练车查询",100502:"新增教练车",100503:"教练车详情",100504:"编辑教练车",100600:"训练场",100601:"训练场查询",100602:"新增训练场",100603:"编辑训练场",100700:"提现",100701:"提现查询",100702:"提现成功",100703:"提现失败",100704:"txt下载提现",100705:"excel下载提现",100706:"财务确认",100707:"财务拒绝",100708:"出纳转账",100800:"银行卡",100801:"银行卡绑定查询",100802:"有效银行卡",100803:"无效银行卡",100804:"下载银行卡绑定记录",101700:"奖金",101701:"奖金导入",101702:"奖金查询",101703:"奖金明细查询",101704:"奖金确认",101705:"奖金发放",101706:"奖金删除",101707:"奖金下载",101708:"财务拒绝",100300:"分配驾校",100307:"分配驾校",101800:"车型",101801:"新增车型",101802:"编辑车型"},localStorage.setItem("lili-btnList",jsonKeyStr(window.buttonPer)),window.studentStatesListForLiLi=[{name:"报名相关",id:1,list:["-1,0","1,0","2,0","3,0","4,0","4,1","4,101","4,100","5,0","5,1","6,0","101,0","6,1","6,100","6,101"]},{name:"科一相关",id:2,list:["101,100","101,101","201,0","201,100","301,0","301,101","302,0","302,101","302,100"]},{name:"科二相关",id:2,list:["401,0","401,101","402,0","402,101","402,100"]},{name:"科三相关",id:2,list:["501,0","501,101","502,0","502,101","502,100","601,0","601,101","602,0","602,101"]},{name:"科四相关",id:2,list:["701,0","701,101","701,100"]}],window.studentStatesListForSchool=[{name:"报名相关",id:1,list:["5,0","5,1","6,0","6,1","6,100","6,101"]},{name:"科一相关",id:2,list:["101,100","101,101","201,0","201,100","301,0","301,101","302,0","302,101","302,100"]},{name:"科二相关",id:2,list:["401,0","401,101","402,0","402,101","402,100"]},{name:"科三相关",id:2,list:["501,0","501,101","601,0","601,101","602,0","602,101"]},{name:"科四相关",id:2,list:["701,0","701,101","701,100"]}],window.studentLiLiJurisConfig={"5,1":["5,101","5,100","6,100"],"5,100":["6,1"],"5,101":["5,101","5,100"]},window.studentSchoolJurisConfig={"5,1":["6,100"],"6,1":["6,100"],"6,100":["7,1"],"7,1":["7,100","7,101"],"7,100":["101,100"],"101,100":["7,100","101,101","201,0"],"101,101":["101,100"],"301,0":["302,0"],"301,101":["302,0","302,101","201,100"],"302,0":["302,101","302,100"],"401,101":["302,100","402,0","402,101"],"401,0":["402,0"],"402,0":["402,101","402,100"],"501,0":["502,0"],"501,101":["402,100","502,0"],"502,0":["502,101","502,100"],"601,0":["602,0"],"601,101":["502,100","602,0","602,101"],"602,0":["602,101","701,0"],"701,0":["701,101","701,100"]},String.prototype.format=function(){if(0==arguments.length)return this;for(var e=this,t=1;t<=arguments.length;t++)e=e.replace(new RegExp("\\{"+t+"\\}","g"),arguments[t-1]);return e};