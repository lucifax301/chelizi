function PopLayer(){this.setting={width:300,height:160,time:2e3,header:"信息",type:"msg",title:"请填写提示信息！"}}function defAttr(t,e,s){return t?t[s]||e[s]:e[s]}function closeLayer(t,e,s){t.click(function(){s&&s.close&&s.close(),$("."+e).remove()})}function deteButton(t,e,s){t.click(function(){$("."+e).remove(),s()})}function animate(t,e,s){t.animate({width:e+"px",height:s+"px",marginLeft:-parseInt(e)/2+"px",marginTop:-parseInt(s)/2+"px",opacity:1},"fast")}var Layer=function(){return new PopLayer}(window);PopLayer.prototype.alert=function(t){var e=defAttr(t,this.setting,"type"),s="<div class='PopLayer PopLayer-alert PopLayer-alert-type alertMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton alertClose'></span></div> <div class='PopLayer-body PopLayer-body-"+e+"'><span></span><b>"+defAttr(t,this.setting,"title")+"</b></div> <div class='PopLayer-bottom'> <div class='PopLayer-bottom-OK alertOK'>确定</div> </div> </div>";$("body").append(s),this.mask("alertMask"),animate($(".PopLayer-alert-type"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".alertClose"),"alertMask"),closeLayer($(".alertOK"),"alertMask"),t.closeMask&&closeLayer($(".alertMask"),"alertMask")},PopLayer.prototype.alertMor=function(t){var e="",s="";"success"==t.type?(e="操作成功",s="button-show"):(e="操作失败",s="button-hide");var a="<div class='PopLayer PopLayer-alert PopLayer-alertMor alertMorMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton customHtmlClose'></span></div>	 <div class='PopLayer-HTML'>	 	<div class='top "+t.type+"'><span></span><p>"+e+"</p></div>	 	<div class='center'>"+t.title+"</div>	 	<div class='bottom'><button onclick=closeNowLayerMor() class='btn btn-sm btn-default "+s+"'>取消</button>			<button  class='btn btn-sm btn-primary' onclick=submitAlert(this)>确认</button></div>	 </div></div>";$("body").append(a),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("alertMorMask"),animate($(".PopLayer-alertMor"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".customHtmlClose"),"alertMorMask",t),t.closeMask&&closeLayer($(".alertMorMask"),"alertMorMask",t),window.submitAlert=function(e){$(e).attr("disabled","disabled"),t.callback?t.callback():Layer.closeNowLayer("alertMorMask",t)},window.closeNowLayerMor=function(e){t.close&&t.close(),$(".alertMorMask").remove()}},PopLayer.prototype.confirmTextAlert=function(t,e){this.setting.width=600,this.setting.height=400;var s="<div class='PopLayer PopLayer-alert PopLayer-confirmTextAlert confirmTextAlertMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton confirmTextAlertClose'></span></div> <div class='PopLayer-HTML'>	<div class='custom-msg-but'>        <div class='margin-bottom-15'>"+t.title+"</div>        <div><button type='button' onclick=Layer.closeNowLayer('confirmTextAlertMask'); class='btn btn-sm btn-default'>取消</button>        <button type='button' class='btn btn-sm btn-primary btn-submit'>确定</button></div></div></div></div>";$("body").append(s),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("confirmTextAlertMask"),animate($(".PopLayer-confirmTextAlert"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".confirmTextAlertClose"),"confirmTextAlertMask"),deteButton($(".btn-submit"),"confirmTextAlertMask",e),t.closeMask&&closeLayer($(".confirmTextAlertMask"),"confirmTextAlertMask")},PopLayer.prototype.confirmNotByTextAlert=function(t,e){this.setting.width=600,this.setting.height=400;var s=t.botByText||"填写理由",a="<div class='PopLayer PopLayer-alert PopLayer-confirmNotByTextAlert confirmNotByTextAlertMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton confirmNotByTextAlertClose'></span></div> <div class='PopLayer-HTML'>	<div class='custom-msg-but'>                    <div class='margin-bottom-15'>"+t.title+"</div>                    <textarea class='form-control' id='withdraw-NotBy' rows='3' placeholder='"+s+"'></textarea>                    <div><button type='button' onclick=Layer.closeNowLayer('confirmNotByTextAlertMask'); class='btn btn-sm btn-default'>取消</button>                    <button type='button' onclick='alertMs()' class='btn btn-sm btn-primary btn-notBy-submit'>确定</button></div>                </div></div></div>";$("body").append(a),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("confirmNotByTextAlertMask"),animate($(".PopLayer-confirmNotByTextAlert"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".confirmNotByTextAlertClose"),"confirmNotByTextAlertMask"),window.alertMs=function(){var s=document.getElementById("withdraw-NotBy").value;return t.errmsg&&!/^[\w\W]+$/.test(s)?(Layer.alert({width:300,height:150,type:"msg",title:t.errmsg}),!1):($(".confirmNotByTextAlertMask").remove(),void e(s))},t.closeMask&&closeLayer($(".confirmNotByTextAlertMask"),"confirmNotByTextAlertMask")},PopLayer.prototype.confirm=function(t,e){this.setting.title="请稍后重试";var s="<div class='PopLayer PopLayer-alert PopLayer-confirm confirmMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton confirmClose'></span></div> <div class='PopLayer-body PopLayer-body-confirm'><span></span><b>"+defAttr(t,this.setting,"title")+"</b></div> <div class='PopLayer-bottom'> <div class='PopLayer-bottom-left confirmLeft'>确定</div> <div class='PopLayer-bottom-right confirmRight'>取消</div> </div> </div>";$("body").append(s),this.mask("confirmMask"),animate($(".PopLayer-confirm"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".confirmClose"),"confirmMask"),closeLayer($(".confirmRight"),"confirmMask"),deteButton($(".confirmLeft"),"confirmMask",e),t.closeMask&&closeLayer($(".confirmMask"),"confirmMask")},PopLayer.prototype.page=function(t){this.setting.width=600,this.setting.height=400;var e="<div class='PopLayer PopLayer-alert PopLayer-page pageMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton pageClose'></span></div> <div class='PopLayer-HTML'>"+t.pageHtml+"</div></div>";$("body").append(e),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("pageMask"),animate($(".PopLayer-page"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".pageClose"),"pageMask"),t.closeMask&&closeLayer($(".pageMask"),"pageMask")},PopLayer.prototype.customHtml=function(t){this.setting.width=600,this.setting.height=400;var e="<div class='PopLayer PopLayer-alert PopLayer-customHtml customHtmlMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton customHtmlClose'></span></div> <div class='PopLayer-HTML'>"+t.html+"</div></div>";$("body").append(e),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("customHtmlMask"),animate($(".PopLayer-customHtml"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".customHtmlClose"),"customHtmlMask"),t.closeMask&&closeLayer($(".customHtmlMask"),"customHtmlMask")},PopLayer.prototype.iframe=function(t){this.setting.width=600,this.setting.height=400;var e="<div class='PopLayer PopLayer-alert PopLayer-iframe iframeMask'><div class='PopLayer-h1'>"+defAttr(t,this.setting,"header")+"<span class='closeButton iframeClose'></span></div> <div class='PopLayer-HTML'><iframe src='"+t.href+"' width='100%' height='97%' frameborder='0'></iframe></div></div>";$("body").append(e),$(".PopLayer-HTML").css({height:defAttr(t,this.setting,"height")-60+"px"}),this.mask("iframeMask"),animate($(".PopLayer-iframe"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".iframeClose"),"iframeMask"),t.closeMask&&closeLayer($(".iframeMask"),"iframeMask")},PopLayer.prototype.miss=function(t){this.setting.height=90;var e="<div class='PopLayer PopLayer-alert PopLayer-miss missMask'><div class='PopLayer-body PopLayer-body-miss'><span></span><b>"+defAttr(t,this.setting,"title")+"</b></div> </div>";$("body").append(e),this.mask("missMask"),animate($(".PopLayer-miss"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height")),closeLayer($(".missClose"),"missMask"),t.closeMask&&closeLayer($(".missMask"),"missMask"),setTimeout(function(){$(".missMask").remove()},defAttr(t,this.setting,"time"))},PopLayer.prototype.loading=function(t){this.setting.height=110,this.setting.title="正在加载中，请稍后...";var e="loading-1";if(t)switch(t.srcType){case 1:e="loading-1";break;case 2:e="loading-2";break;case 3:e="loading-3";break;case 4:e="loading-4"}var s="<div class='PopLayer PopLayer-alert PopLayer-loading loadingMask'><div class='PopLayer-body PopLayer-body-loading'><img src='/assets/img/"+e+".gif'><b>"+defAttr(t,this.setting,"title")+"</b></div> </div>";$("body").append(s),this.mask("loadingMask"),$(".loadingMask").css({cursor:"wait"}),animate($(".PopLayer-loading"),defAttr(t,this.setting,"width"),defAttr(t,this.setting,"height"))},PopLayer.prototype.mask=function(t){var e="<div class='PopLayer PopLayer-mask "+t+"'></div>";$("body").append(e)},PopLayer.prototype.closeLoading=function(){$(".loadingMask").remove()},PopLayer.prototype.closeNowLayer=function(t,e){e&&e.close&&e.close(),$("."+t).remove()},PopLayer.prototype.closeAllLayer=function(){$(".PopLayer").remove()};