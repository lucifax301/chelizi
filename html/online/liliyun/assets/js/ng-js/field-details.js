var app=angular.module("app",["ngFilter"]);app.controller("FieldDetails",["$scope",function(e){function a(a){switch(a){case 0:e.getFieldLogs()}}function t(e){var a={url:config.basePath+"logCommon/batch",data:{pageNo:e,pageSize:10,menuId:5,relateId:getQueryString("fieldId")}};return a}e.defaultPage=location.hash.substring(2)||1,e.pageSize=10,e.tableSwitch=function(t){e.index=tabPageDetails(t),win.showLoading(),location.hash="##1",a(e.index)},window.onhashchange=function(){win.showLoading(),e.defaultPage=location.hash.substring(2)||1,a(e.index)},e.getFieldData=function(){$.AJAX({type:"get",url:config.basePath+"field/view",data:{fieldId:getQueryString("fieldId")},success:function(a){e.fieldDetails=JSON.parse(a.result.field),e.fieldId=e.fieldDetails.fieldId,e.$apply()}})},e.getFieldData(),e.getFieldLogs=function(){var a=t(e.defaultPage);$.AJAX({type:"get",url:a.url,data:a.data,success:function(a){var t=getListData(a);e.fieldLogs=t.dataList,e.$apply(),new Page({parent:$("#log-page"),nowPage:e.defaultPage,pageSize:e.pageSize,totalCount:t.total})}})},e.getFieldLogs()}]);