var app=angular.module("app",["ngFilter"]);app.controller("Balance",["$scope","$filter",function(a,e){function t(e){var t={url:config.basePath+"liliWallet/touchBalance",data:{pageNo:e,pageSize:parseInt(a.pageSize),startTime:a.startTime,endTime:a.endTime,operateType:a.operateType}};return t.data[a.searchType]=a.search,t}a.defaultPage=location.hash.substring(2)||1,a.pageSize=10,a.startTime="",a.endTime="",a.searchType="orderId",a.data={pages:10,total:100,pageSize:10,pageNo:1,dataList:[{applyTime:"2015-12-12 12:13",waterId:"1651wefwfwef51616",money:16660,accountMoney:505055,bankName:"中国银行",bankCard:"45615165451541",status:1,remark:"nothing"}]},a.datas=a.data.dataList,a.getDataList=function(){var e=t(a.defaultPage);$.AJAX({type:"get",url:e.url,data:e.data,success:function(e){var t=getListData(e);a.total=t.total,a.datas=t.dataList,a.$apply(),new Page({parent:$("#copot-page"),nowPage:a.defaultPage,pageSize:a.pageSize,totalCount:t.total})}})},a.getDataList(),window.onhashchange=function(){win.showLoading(),a.defaultPage=location.hash.substring(2)||1,a.getDataList()},a.getDataForTime=function(t,i){switch($(t.target).addClass("active").siblings().removeClass("active"),i){case"all":a.startTime=a.endTime="";break;case"0":a.startTime=e("date")((new Date).getTime()-6048e5,"yyyy-MM-dd"),a.endTime=e("date")((new Date).getTime(),"yyyy-MM-dd");break;case"1":a.startTime=e("date")((new Date).getTime()-1296e6,"yyyy-MM-dd"),a.endTime=e("date")((new Date).getTime(),"yyyy-MM-dd")}win.showLoading(),a.defaultPage=1,a.getDataList()},$("#reservation").daterangepicker({format:"YYYY/MM/DD"},function(t,i,n){a.startTime=a.endTime="",a.startTime=e("date")(t.toISOString(),"yyyy-MM-dd"),a.endTime=e("date")(i.toISOString(),"yyyy-MM-dd"),win.showLoading(),a.defaultPage=1,a.getDataList(),a.$apply()}),a.getDataForOperate=function(){win.showLoading(),a.defaultPage=1,a.operateType=a.operateType,a.getDataList()},a.getDataForSearch=function(){win.showLoading(),a.defaultPage=1,a.checkAllTag.search=a.search,a.getDataList()},a.checkAllTag={},a.objElement={}}]);