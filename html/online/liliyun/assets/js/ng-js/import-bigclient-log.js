var app=angular.module("app",["ngFilter","ngSelects"]);app.controller("ImportBigclientLog",["$scope","$filter",function(e,t){function a(t){var a={url:config.basePath+"vip/custom-export",data:{exportId:e.exportId,pageNo:t,pageSize:parseInt(e.pageSize),startTime:e.startTime,endTime:e.endTime}};return a}e.exportId=getQueryString("exportId"),e.defaultPage=location.hash.substring(2)||1,e.pageSize=10,e.startTime="",e.endTime="",e.getDataList=function(){var t=a(e.defaultPage);$.AJAX({type:"get",url:t.url,data:t.data,success:function(t){var a=getListData(t);e.total=a.total,e.datas=a.dataList,console.log(e.datas),e.$apply(),topLongText(),new Page({parent:$("#copot-page"),nowPage:e.defaultPage,pageSize:e.pageSize,totalCount:a.total})}})},e.getDataList(),window.onhashchange=function(){win.showLoading(),e.defaultPage=location.hash.substring(2)||1,e.getDataList()},e.getDataForTime=function(a,i){switch($(a.target).addClass("active").siblings().removeClass("active"),i){case"all":e.startTime=e.endTime="";break;case"0":e.startTime=t("date")((new Date).getTime()-6048e5,"yyyy-MM-dd"),e.endTime=t("date")((new Date).getTime(),"yyyy-MM-dd");break;case"1":e.startTime=t("date")((new Date).getTime()-1296e6,"yyyy-MM-dd"),e.endTime=t("date")((new Date).getTime(),"yyyy-MM-dd")}e.defaultPage=1,win.showLoading(),e.getDataList()},$("#reservation").daterangepicker({format:"YYYY/MM/DD"},function(a,i,n){e.startTime=e.endTime="",e.startTime=t("date")(a.toISOString(),"yyyy-MM-dd"),e.endTime=t("date")(i.toISOString(),"yyyy-MM-dd"),e.defaultPage=1,win.showLoading(),e.getDataList(),e.$apply()}),e.getDataForPage=function(){win.showLoading(),e.defaultPage=1,e.getDataList()}}]);