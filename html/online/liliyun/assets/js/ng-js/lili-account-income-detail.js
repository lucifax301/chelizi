var app=angular.module("app",["ngFilter"]);app.controller("Income",["$scope","$filter",function(e,a){function t(a){var t={url:config.basePath+"liliWallet/accountBalance",data:{pageNo:a,pageSize:parseInt(e.pageSize),startTime:e.startTime,endTime:e.endTime,operateType:e.operateType}};return t.data[e.searchType]=e.search,t}e.defaultPage=location.hash.substring(2)||1,e.pageSize=10,e.startTime="",e.endTime="",e.searchType="orderId",e.data={pages:10,total:100,pageSize:10,pageNo:1,dataList:[{applyTime:"2015-12-12 12:13",waterId:"1651wefwfwef51616",money:16660,accountMoney:505055,bankName:"中国银行",bankCard:"45615165451541",status:1,remark:"nothing"}]},e.datas=e.data.dataList,e.getDataList=function(){var a=t(e.defaultPage);$.AJAX({type:"get",url:a.url,data:a.data,success:function(a){var t=getListData(a);e.total=t.total,e.datas=t.dataList,e.expense=JSON.parse(a.result.expense),e.$apply(),new Page({parent:$("#copot-page"),nowPage:e.defaultPage,pageSize:e.pageSize,totalCount:t.total})}})},e.getDataList(),window.onhashchange=function(){win.showLoading(),e.defaultPage=location.hash.substring(2)||1,e.getDataList()},e.getDataForTime=function(t,i){switch($(t.target).addClass("active").siblings().removeClass("active"),i){case"all":e.startTime=e.endTime="";break;case"0":e.startTime=a("date")((new Date).getTime()-6048e5,"yyyy-MM-dd"),e.endTime=a("date")((new Date).getTime(),"yyyy-MM-dd");break;case"1":e.startTime=a("date")((new Date).getTime()-1296e6,"yyyy-MM-dd"),e.endTime=a("date")((new Date).getTime(),"yyyy-MM-dd")}win.showLoading(),e.defaultPage=1,e.getDataList()},$("#reservation").daterangepicker({format:"YYYY/MM/DD"},function(t,i,n){e.startTime=e.endTime="",e.startTime=a("date")(t.toISOString(),"yyyy-MM-dd"),e.endTime=a("date")(i.toISOString(),"yyyy-MM-dd"),win.showLoading(),e.defaultPage=1,e.getDataList(),e.$apply()}),e.getDataForOperate=function(){win.showLoading(),e.defaultPage=1,e.operateType=e.operateType,e.getDataList()},e.getDataForSearch=function(){win.showLoading(),e.defaultPage=1,e.checkAllTag.search=e.search,e.getDataList()},e.checkAllTag={},e.objElement={}}]);