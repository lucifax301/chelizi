function login(){var e=$("#username").val().trim();console.log(e.length);var t=$("#password").val().trim();return regCombination("*",[2,20]).test(e)?regCombination("*",[2,20]).test(t)?(win.showLoading(),void $.AJAX({type:"post",url:config.basePath+"login/check",data:{account:e,password:t},success:function(t){localStorage.setItem("lili-username",e),$.AJAX({type:"get",async:"false",url:config.basePath+"privilege/getUserMenu",success:function(e){window.menuPer=JSON.parse(e.data),sessionStorage.accessData=JSON.stringify(window.menuPer),console.log("已从登录页请求到权限列表并缓存：如下"),console.log(window.menuPer);var t=window.menuPer.list;if(""!=sessionStorage.getItem("lili-url")&&null!=sessionStorage.getItem("lili-url")){var o=sessionStorage.getItem("lili-url").match(/(?=[^\/]+$).+(?=\.html)/)+".html";o="data-statistics.html"==o?"datas/data-statistics.html":o;var s=!1;sessionStorage.accessData=JSON.stringify(window.menuPer);for(var a=0;a<t.length;a++)o!=t[a].url||(s=!0);window.location.href=s?o:"change-password.html"}else console.log("没有缓存的静态页面"),t.length>0?(console.log("跳到权限值的第一个页面"),window.location.href=t[0].url):(console.log("没有任何权限值，跳到个人设置页"),window.location.href="change-password.html")}})}})):(Layer.alert({width:300,height:150,type:"error",title:"请填密码！"}),!1):(Layer.alert({width:300,height:150,type:"error",title:"请填写用户名！"}),!1)}win.hideLoading(),sessionStorage.setItem("accessData",""),$("#username").val(localStorage.getItem("lili-username")),$("#admin-submit").click(function(){login()}),$(document).keydown(function(e){13==e.keyCode&&login()});